<header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        {% if site.avatar %}
		<a href="{{ '/' | relative_url }}">
			<img alt="logo img" class="avatar" src="{{ site.avatar | relative_url }}" />
		</a>
        {% endif %}
        
        <!-- COMPLETELY REPLACE the site title with our own styled version -->
        <a href="{{ '/' | relative_url }}" 
           class="custom-site-title" 
           aria-label="{{ site.title }}"
           style="font-size: 1.5em; font-weight: bold; margin-left: 0.5em; text-decoration: none;">
            <span id="dynamic-site-title">{{ site.title }}</span>
        </a>
        
        <!-- Hide the original site title that's stuck white -->
        <a class="site-title" aria-label="{{ site.title }}" href="{{ '/' | relative_url }}" style="display: none !important;">
            {{ site.title }}
        </a>
	</div>

    <!-- Toggle menu -->
    <nav class="clear">
    <a aria-label="pull" id="pull" class="toggle" href="#">
    <i class="fa fa-bars fa-lg"></i>
    </a>

    <!-- Menu -->
    <ul class="hide">
        {% assign name_page = "" %}

        {% for page in site.pages %}
            {% unless page.title == null or page.hide or name_page contains page.title %}
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="{{ page.title }}" title="{{ page.title }}" href="{{ page.url | relative_url }}">
                    {% if page.icon %} <i class="fa {{ page.icon }}" aria-hidden="true"></i>
                    {% else %} {{ page.title }} {% endif%}
                </a>
            </li>
            {% endunless %}
            {% assign name_page = page.title | append: name_page %}
        {% endfor %}
    </ul>

	</nav>
</header>

<style>
    /* Style for our custom dynamic title */
    .custom-site-title {
        color: var(--header-text-color) !important;
        transition: color 0.3s ease !important;
    }
    
    /* Hide the original title completely */
    .site-title {
        display: none !important;
        opacity: 0 !important;
        visibility: hidden !important;
    }
</style>
